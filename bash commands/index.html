<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
    Bash/UNIX commands <> Cheat-sheets.tk
    
  </title>

  <!-- CSS -->
    <link rel="stylesheet" href="/css/poole.css">
    <link rel="stylesheet" href="/css/syntax.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/backtotop.css">
    <link rel="canonical" href="http://cheat-sheets.tk/bash commands">
    <!-- <link rel="stylesheet" href="/css/font-awesome.min.css"> -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Fira+Mono|Fira+Sans:300,400|Roboto:300,400' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.1.1/gh-fork-ribbon.min.css">
    <link rel="stylesheet" media="screen" href="/css/toc.css">
    <link rel="stylesheet" media="screen" href="/css/select2.css">
    <link rel="stylesheet" media="screen" href="/css/theme.grey.min.css">

    <script src="/scripts/jquery-2.1.4.min.js"></script>
    
    <!-- <link href="http://cdnjs.cloudflare.com/ajax/libs/select2/3.4.6/select2.min.css" rel="stylesheet"> -->
    <!-- <script src="http://cdnjs.cloudflare.com/ajax/libs/select2/3.4.6/select2.min.js"></script> -->
    
    <script src="/scripts/jquery.tablesorter.min.js"></script>
    <script src="/scripts/jquery.tablesorter.widgets.min.js"></script>
    <script src="/scripts/select2.js"></script>
    <script src="/scripts/widget-filter-formatter-select2.min.js"></script>
    <script src="/scripts/jquery.tocLight.js"></script>
    
    <script type="text/javascript">
        $(function() {
          $.toc.clickHideButton();
        });
  </script>

  <!-- Icons -->
  <link rel="shortcut icon" href="/css/images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/css/images/favicon.ico" type="image/x-icon">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="Cheat-sheets.tk" href="atom.xml">
</head>



  <body>
    <div class="container content">
        <header class="site-header">

  <div class="wrapper">

      <a class="site-title" href="/"> 
          <span class="main-title">
              <i style="margin-right:4px; color: #424242 !important;" class="fa fa-code"></i><span class="main-cheat"
                      style="font-weight: bold;">Cheat</span>-sheets<i style="color: #268BD2; margin: 0px 1px 0px 3px;" class="fa fa-github"></i><span style="font-size: 30px; ">tk</span>
                    
          </span>
      </a>

      <a style="float:right; margin-top: 10px;" href="/tags"><i class="fa fa-tags"></i></a>

  </div>
    <!-- <style> -->
    <!--     /* The default background color is #c00 */ -->
    <!--     .right-bottom .github-fork-ribbon { -->
    <!--         background-color: #2A7AE2; -->
    <!--     } -->

    <!--     .right .github-fork-ribbon { -->
    <!--         background-color: #f80; -->
    <!--     } -->

    <!--     .left-bottom .github-fork-ribbon { -->
    <!--         background-color: #333; -->
    <!--     } -->
    <!-- </style> -->
    
    <!-- <div class="github-fork-ribbon-wrapper right-bottom"> -->
    <!--     <div class="github-fork-ribbon"> -->
    <!--         <a href="https://github.com/johgh/johgh.io-source">Fork me on GitHub</a> -->
    <!--     </div> -->
    <!-- </div> -->
</header>

      <header class="masthead">
      </header>
      <main>
        <div class="post">

<br />
<article class="post">
  <h1 class="post-title"><a href="/terminal" class="back"><i class="fa fa-arrow-left"></i></a> Bash/UNIX commands</h1>
  <br />
  <div id="toc-container">
   <table class="toc" id="toc">
      <tbody>
         <tr>
            <td>
               <div id="toctitle">
                  <h2>Contents</h2>
                  <span class="toctoggle">[<a id="toctogglelink" class="internal" href="#">hide</a>]</span>
               </div>
               <ul>
                  <li class="toc_level-1 toc_section-1">
                     <a href="#tocAnchor-1-1"><span class="tocnumber">1</span> <span class="toctext">General commands</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-2">
                     <a href="#tocAnchor-1-2"><span class="tocnumber">2</span> <span class="toctext">Shell config and reloading</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-3">
                     <a href="#tocAnchor-1-3"><span class="tocnumber">3</span> <span class="toctext">Working with partitions</span></a>
                  </li>
                  <li class="toc_level-1 toc_section-4">
                     <a href="#tocAnchor-1-4"><span class="tocnumber">4</span> <span class="toctext">Package management (apt systems)</span></a>
                  </li>
               </ul>
            </td>
         </tr>
      </tbody>
   </table>
</div><h1 id="tocAnchor-1-1">General commands</h1>

<blockquote>
  <p>For a complete generic command reference go <a href="http://cb.vu/unixtoolbox.xhtml">here</a></p>
</blockquote>

<dl>
  <dt>ssh</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>ssh usuario@10.0.16.29 -p 222</code></pre></div>
  </dd>
  <dt>scp</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>scp -P <span class="m">222</span> D2System_venus.sql usuario@10.0.16.29:/home/usuario</code></pre></div>
  </dd>
  <dt>Uncompress tar.gz/tar.bz2</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>tar -xz<span class="o">[</span>v<span class="o">]</span>f file.tar.gz / tar -xjf<span class="o">[</span>v<span class="o">]</span> file.tar.bz2</code></pre></div>
  </dd>
  <dt>Compress and tar</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>tar -<span class="o">[</span>z<span class="p">|</span>j<span class="o">]</span>cvf archive_name.tar.<span class="o">[</span>gz<span class="p">|</span>bz2<span class="o">]</span> directory_to_compress</code></pre></div>
  </dd>
  <dt>Assign default directories permissions</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>find . -type d -print0 <span class="p">|</span> xargs -0 chmod <span class="m">0755</span> <span class="c"># for directories</span></code></pre></div>
  </dd>
  <dt>Assign default files permissions</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>find . -type f -print0 <span class="p">|</span> xargs -0 chmod <span class="m">0644</span> <span class="c"># for files</span></code></pre></div>
  </dd>
  <dt>2 ways of deleting matching files</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>find . -name *flac  -print -exec rm <span class="o">{}</span> <span class="se">\;</span>
<span class="nv">$ </span>find . -newermt <span class="s1">'2014-12-31'</span> -print0 <span class="p">|</span> xargs -0 rm -rf</code></pre></div>
  </dd>
  <dt>Translate \n to null character</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>find . -iname <span class="s2">"*blabla*"</span> <span class="p">|</span> sort -r <span class="p">|</span> tr <span class="s1">'\n'</span> <span class="s1">'\0'</span> <span class="p">|</span> xargs -0 mplayer</code></pre></div>
  </dd>
  <dt>Using % with xargs</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>ls <span class="p">|</span> xargs -I % <span class="nb">echo</span> %</code></pre></div>
  </dd>
  <dt>Massive renaming of files</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c"># test rename with -n</span>
<span class="nv">$ </span>rename -n <span class="s1">'s/&lt;search_pattern&gt;/&lt;replace_pattern&gt;/g'</span> *.txt
<span class="c"># rename and print name of files renamed (only *.txt files)</span>
<span class="nv">$ </span>rename -v <span class="s1">'s/&lt;search_pattern&gt;/&lt;replace_pattern&gt;/g'</span> *.txt
<span class="c"># rename files read via standard input</span>
<span class="nv">$ </span>find &lt;search_directory&gt; -iname <span class="s1">'*.txt'</span> <span class="p">|</span> rename -v <span class="s1">'s/&lt;search_pattern&gt;/&lt;replace_pattern&gt;/g'</span></code></pre></div>
  </dd>
</dl>

<blockquote>
  <p>Patterns expect <a href="https://regex101.com/#pcre">Perl Compatible Regular Expressions</a> (PCRE).</p>
</blockquote>

<h1 id="tocAnchor-1-2">Shell config and reloading</h1>

<dl>
  <dt>Set shell</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>chsh -s <span class="k">$(</span>which zsh<span class="k">)</span></code></pre></div>
  </dd>
  <dt>Configure terminal proxy (put on .bashrc/.zshrc for permanent use)</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span><span class="nb">export </span><span class="nv">http_proxy</span><span class="o">=</span><span class="s2">"http://user:password@proxy-server:port"</span>
<span class="nv">$ </span><span class="nb">export </span><span class="nv">https_proxy</span><span class="o">=</span><span class="s2">"https://user:password@proxy-server:port"</span>
<span class="nv">$ </span><span class="nb">export </span><span class="nv">ftp_proxy</span><span class="o">=</span><span class="s2">"http://user:password@proxy-server:port"</span>
    
<span class="c"># without authentication one-liner</span>
<span class="nv">$ </span><span class="nb">export</span> <span class="o">{</span>http,https,ftp<span class="o">}</span><span class="nv">_proxy</span><span class="o">=</span><span class="s2">"http://proxy-server:port"</span></code></pre></div>
  </dd>
  <dt>Reload .bashrc/.zshrc</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span><span class="nb">source</span> <span class="o">[</span>.bashrc<span class="p">|</span>.zshrc<span class="o">]</span></code></pre></div>
  </dd>
</dl>

<h1 id="tocAnchor-1-3">Working with partitions</h1>

<dl>
  <dt>Mount device as user (without sudo)</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>mount /mnt/my_device</code></pre></div>
  </dd>
</dl>

<blockquote>
  <p>for the command above to work you need to create <code>/mnt/my_device</code> directory and put on /etc/fstab a line like:</p>

  <p>UUID=”8574-1C11” /mnt/my_device vfat rw,noauto,user,noexec 0 0</p>

  <ul>
    <li>UUID can be found with <code>blkid</code> command</li>
    <li>to automount at startup do not specify <code>noauto</code> option parameter (then you can umount manually with <code>umount /mnt/my_device</code>)</li>
  </ul>
</blockquote>

<dl>
  <dt>Remount partition with write permissions</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c"># mount root partition with write permissions</span>
<span class="nv">$ </span>sudo mount -o remount,rw /</code></pre></div>
  </dd>
  <dt>Add disks to RAID1</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>sudo mdadm -A -R /dev/md0 /dev/sdX1 /dev/sdY1</code></pre></div>
  </dd>
</dl>

<p>
   <br />
</p>

<hr />

<h1 id="tocAnchor-1-4">Package management (apt systems)</h1>

<dl>
  <dt>Shows package status, autocomplete only installed packages</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>dpkg -s</code></pre></div>
  </dd>
  <dt>Autocompletes with repos packages, formatted output, accepts wildcards ‘<em>php</em>’</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>dpkg-query -l</code></pre></div>
  </dd>
  <dt>Displays command name package</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>dpkg-query -S <span class="sb">`</span>which mkvmerge<span class="sb">`</span></code></pre></div>
  </dd>
  <dt>Shows location of installed package files</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>dpkg -L</code></pre></div>
  </dd>
  <dt>Searches for a file in repos packages</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>apt-file search</code></pre></div>
  </dd>
  <dt>Searches on repos (installed packages or not)</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>apt-file show</code></pre></div>
  </dd>
  <dt>Resync with repos</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>apt-file update</code></pre></div>
  </dd>
  <dt>Show last installed packages</dt>
  <dd>
    <div class="highlight"><pre><code class="language-sh" data-lang="sh">sudo gunzip -d /var/log/dpkg.log.*gz
cat /var/log/dpkg.log* <span class="p">|</span> grep <span class="s2">"\ install\ "</span> <span class="p">|</span> sort <span class="p">|</span> ccze</code></pre></div>
  </dd>
</dl>


  <br />
  <blockquote>
      <p><strong>Last updated: <time datetime="2016-09-01T21:34:33+00:00" class="page-date">01 Sep 2016</time></strong></p>
  </blockquote>
</article>

<aside class="related">
    <h2>Related Posts</h2>
    <ul class="related-posts">
        
         

        
            
        
        

        
            
        
        

        
            
        
        

        
            
                
                <li>
                    <h3>
                        <a href="/apps">
                            Packages
                            <small><time datetime="2016-10-08T14:13:58+00:00">08 Oct 2016</time></small>
                        </a>
                    </h3>
                </li>
                
            
        
        

        
            
                
                <li>
                    <h3>
                        <a href="/repos">
                            Repositories
                            <small><time datetime="2016-09-01T21:34:33+00:00">01 Sep 2016</time></small>
                        </a>
                    </h3>
                </li>
                
            
        
        

        
            
        
        

        
            
        
        

        
            
                
                <li>
                    <h3>
                        <a href="/linuxcommands">
                            Desktop/general commands
                            <small><time datetime="2016-09-01T21:34:33+00:00">01 Sep 2016</time></small>
                        </a>
                    </h3>
                </li>
                
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
                
                <li>
                    <h3>
                        <a href="/git">
                            Git (Quick Guide)
                            <small><time datetime="2016-09-14T12:12:38+00:00">14 Sep 2016</time></small>
                        </a>
                    </h3>
                </li>
                
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
                
                <li>
                    <h3>
                        <a href="/shellscripting">
                            Shell-scripting snippets
                            <small><time datetime="2016-09-01T21:34:33+00:00">01 Sep 2016</time></small>
                        </a>
                    </h3>
                </li>
                
            
        
        

        
            
                
                <li>
                    <h3>
                        <a href="/zsh">
                            Zsh setup
                            <small><time datetime="2016-09-01T21:34:33+00:00">01 Sep 2016</time></small>
                        </a>
                    </h3>
                </li>
                
            
        
        

        
            
        
        

        
            
                
                <li>
                    <h3>
                        <a href="/tmux">
                            Tmux basics
                            <small><time datetime="2016-09-01T21:34:33+00:00">01 Sep 2016</time></small>
                        </a>
                    </h3>
                </li>
                
            
        
        

        
            
        
        

        
            
                
                <li>
                    <h3>
                        <a href="/my scripts">
                            Useful scripts
                            <small><time datetime="2016-09-14T11:05:53+00:00">14 Sep 2016</time></small>
                        </a>
                    </h3>
                </li>
                
            
        
            
        
        

        
            
                
                <li>
                    <h3>
                        <a href="/gitconfig">
                            My Git configuration
                            <small><time datetime="2016-09-14T11:05:53+00:00">14 Sep 2016</time></small>
                        </a>
                    </h3>
                </li>
                
            
        
            
        
        

        
            
                
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        

        
            
        
        
        
        
  </ul>
</aside>


      </main>
     <footer class="site-footer">

  <div class="wrapper">


    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
          <!-- <h2 class="footer-heading"> <a href="https://github.com/johgh/johgh.io-source"> <i class="fa fa-github"></i> Cheat-Sheets</a></h2> -->
        <ul class="contact-list">
          <li><a href="mailto:"></a></li>
        </ul>
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <p class="text" style="text-align:right"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Licencia de Creative Commons" style="border-width:0; display:inline;" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
      </div>
    </div>

  </div>

</footer>
<a href="#0" class="cd-top">Top</a>
<script src="/scripts/backtotop.js"></script>

<script>
$(function() {
  $("h1, h2, h3, h4, h5, h6").each(function(i, el) {
    var $el, icon, id;
    $el = $(el);
    id = $el.attr('id');
    icon = '<i class="fa fa-link"></i>';
    if (id) {
      return $el.prepend($("<a />").addClass("header-link").attr("href", "#" + id).html(icon));
    }
  });

  /*
  $(document).on('click', '.back', function(e){
    e.preventDefault()
  });
  */
});

</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66389589-1', 'auto');
  ga('send', 'pageview');

</script>

    </div>

  </body>
</html>
